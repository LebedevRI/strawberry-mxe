This file is part of MXE. See LICENSE.md for licensing information.

Contains ad hoc patches for cross building.

From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Jonas Kvinge <jonas@jkvinge.net>
Date: Wed, 6 Nov 2019 21:50:34 +0100
Subject: [PATCH 1/2] Add CoInitialize


diff --git a/sys/wasapi/gstwasapiutil.c b/sys/wasapi/gstwasapiutil.c
index 1111111..2222222 100644
--- a/sys/wasapi/gstwasapiutil.c
+++ b/sys/wasapi/gstwasapiutil.c
@@ -317,7 +317,7 @@ gst_wasapi_util_get_device_enumerator (GstElement * self)
 {
   HRESULT hr;
   IMMDeviceEnumerator *enumerator = NULL;
-
+  CoInitialize (NULL);
   hr = CoCreateInstance (&CLSID_MMDeviceEnumerator, NULL, CLSCTX_ALL,
       &IID_IMMDeviceEnumerator, (void **) &enumerator);
   HR_FAILED_RET (hr, CoCreateInstance (MMDeviceEnumerator), NULL);

From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Jonas Kvinge <jonas@jkvinge.net>
Date: Wed, 6 Nov 2019 21:50:51 +0100
Subject: [PATCH 2/2] Fix neon headers location


diff --git a/ext/neon/gstneonhttpsrc.c b/ext/neon/gstneonhttpsrc.c
index 1111111..2222222 100644
--- a/ext/neon/gstneonhttpsrc.c
+++ b/ext/neon/gstneonhttpsrc.c
@@ -25,7 +25,7 @@
 #include <unistd.h>
 #endif /* _HAVE_UNISTD_H */
 
-#include <ne_redirect.h>
+#include <neon/ne_redirect.h>
 
 #define STATUS_IS_REDIRECTION(status)     ((status) >= 300 && (status) < 400)
 
diff --git a/ext/neon/gstneonhttpsrc.h b/ext/neon/gstneonhttpsrc.h
index 1111111..2222222 100644
--- a/ext/neon/gstneonhttpsrc.h
+++ b/ext/neon/gstneonhttpsrc.h
@@ -23,9 +23,9 @@
 
 G_BEGIN_DECLS
 
-#include <ne_session.h>
-#include <ne_request.h>
-#include <ne_socket.h>
+#include <neon/ne_session.h>
+#include <neon/ne_request.h>
+#include <neon/ne_socket.h>
 
 #define GST_TYPE_NEONHTTP_SRC \
   (gst_neonhttp_src_get_type())
